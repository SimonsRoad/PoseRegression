% script_comp_pcks.m
% temporary code to compute the mean pck
%
clear; clc;

numimages = [45 49 29 25 23 21 75 28 16 47];


pck = [...
    56.98 15.71	27.3	25.08	15.87	38.57	48.57	47.3	24.6	42.38	9.52	28.57	23.17	9.84	35.71	48.1	52.06	34.76	45.56;
    51.6 12.39	21.87	16.18	12.39	38.19	47.67	48.54	28.43	38.92	9.62	17.64	12.83	9.62	35.42	45.63	50	29.45	43.59;
    50.99 34.24	57.14	57.88	35.96	58.62	77.59	68.97	36.7	52.22	19.7	43.1	44.58	23.15	48.52	50.25	57.64	46.31	55.91;
    48.86 31.14	41.71	50.57	30.86	53.43	55.43	57.14	40	46.86	12.86	44.29	48.57	15.43	50.57	62.57	58.86	47.71	56.86;
    35.09 14.29	28.88	33.23	14.29	41.61	50.62	40.37	28.88	35.4	5.59	16.77	35.09	5.59	34.47	40.99	49.38	32.61	34.47;
    37.76 30.95	40.14	55.1	30.95	68.71	72.79	61.9	43.2	41.5	17.01	32.65	54.08	17.01	60.88	73.47	75.51	69.05	65.31;
    38.1 6.19	11.33	8	7.62	24	33.81	34.38	18.19	27.24	5.62	12.57	8.19	7.05	27.71	31.14	33.14	23.62	30;
    40.31 14.03	19.13	27.3	6.63	41.58	43.37	47.96	12.76	15.56	11.22	21.43	28.57	6.38	39.29	50.51	53.83	22.96	22.96;
    50.45 19.96	40.71	39	19.96	41.31	52.1	66.28	34.26	52.74	2.59	26.1	26.1	2.59	28.81	31.04	35.95	28.93	33.62;
    31.46 8.48	8.48	12.65	10.89	28.84	35.27	29.51	19.83	24.59	2.6	2.6	7.54	4.63	28.62	37.84	38.15	20.8	33.05];
avgpck = sum(repmat(numimages', [1, size(pck,2)]).*pck) / sum(numimages);
fprintf('average pck: %.2f \n', avgpck);


%% detection
IoU = [...
    0.635	0.1446	0.4837	0.3465	0.1499	0.3605	0.5397	1	0.5567	0.7187;
    0.5509	0.1343	0.2548	0.1615	0.1343	0.359	0.5304	1	0.53	0.7122;
    0.5922	0.1615	0.529	0.4873	0.1792	0.3739	0.5438	1	0.5614	0.6872;
    0.5979	0.1696	0.4731	0.4994	0.197	0.3846	0.5558	1	0.5986	0.7241;
    0.4829	0.1414	0.3131	0.4058	0.1414	0.3744	0.544	1	0.508	0.7248;
    0.5303	0.148	0.3303	0.4753	0.148	0.3494	0.5202	1	0.5141	0.6721;
    0.6207	0.1479	0.2741	0.1826	0.1676	0.3526	0.5261	1	0.5099	0.748;
    0.4934 	0.137	0.1888	0.2748	0.137	0.3747	0.5444	1	0.5413	0.7367;
    0.5142	0.174	0.4202	0.387	0.174	0.4095	0.5463	1	0.4639	0.6284;
    0.3457	0.2522	0.2522	0.2794	0.2555	0.3794	0.4005	1	0.3041	0.3741];
avgIoU = sum(repmat(numimages', [1, size(IoU,2)]).*IoU) / sum(numimages);
fprintf('average IoU: %.4f \n', avgIoU);
